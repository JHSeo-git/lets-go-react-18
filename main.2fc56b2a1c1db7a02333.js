(()=>{"use strict";var e,n={980:(e,n,r)=>{var t=r(294),s=r(745),i=r(711),a=r(974),c=r(800),l=r(152),o=r(861),u=r(757),h=r.n(u);function d(e){return x.apply(this,arguments)}function x(){return x=(0,o.Z)(h().mark((function e(n){var r,t,s,i,a=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:0,e.next=3,Promise.all([fetch("https://hacker-news.firebaseio.com/v0/".concat(n,".json")),new Promise((function(e){return setTimeout(e,r)}))]);case 3:if(t=e.sent,s=(0,l.Z)(t,1),200===(i=s[0]).status){e.next=8;break}throw new Error("Status code: ".concat(i.status));case 8:return e.abrupt("return",i.json());case 9:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}const p=function(){return(0,t.useEffect)((function(){console.log("Mount")}),[]),console.log("Render"),null};var f=r(893);const j=function(){var e=(0,t.useState)(0),n=(0,l.Z)(e,2),r=n[0],s=n[1],i=(0,t.useState)(!1),a=(0,l.Z)(i,2),c=a[0],o=a[1];return(0,f.jsxs)("article",{children:[(0,f.jsx)("h2",{children:"Automatic Batching"}),(0,f.jsxs)("h3",{children:["See ",(0,f.jsx)("code",{children:"console"})," tab."]}),(0,f.jsxs)("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center",gap:"1rem"},children:[(0,f.jsx)("button",{onClick:function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return new Promise((function(n){return setTimeout(n,e)}))})().then((function(){s((function(e){return e+1})),o((function(e){return!e}))}))},children:"Next"}),(0,f.jsx)("p",{style:{fontSize:"2rem",fontWeight:"bold",color:c?"blue":"red"},children:r})]}),(0,f.jsx)(p,{})]})},m=function(){return(0,f.jsxs)("article",{children:[(0,f.jsx)("h2",{children:"Home"}),(0,f.jsx)("h3",{children:"React 18 is released!"}),(0,f.jsxs)("ol",{style:{marginTop:"1rem"},children:[(0,f.jsx)("li",{children:"Automatic Batching"}),(0,f.jsx)("li",{children:"Transitions"}),(0,f.jsx)("li",{children:"Suspense"})]})]})},v=function(){return(0,f.jsxs)("svg",{className:"spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",children:[(0,f.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,f.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},g=function(e){var n=e.item,r=(n.url?new URL(n.url):{host:"#"}).host;return(0,f.jsx)("div",{style:{margin:"0.25rem 0",padding:"0.25rem",border:"1px solid gray",borderRadius:"0.25rem"},children:(0,f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",fontSize:"0.75rem"},children:[(0,f.jsx)("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",children:n.title}),n.url&&(0,f.jsxs)("a",{href:"http://".concat(r),children:["[",r.replace(/^www\./,""),"]"]})]})})};var y={};function w(e,n){var r,t;return y[e]||(y[e]=function(){if(void 0!==r)return r;throw t||(t=n().then((function(e){return r=e}))),t}),y[e]()}function b(e){var n=e.id,r=w("s-".concat(n),(function(){return d("item/".concat(Number(n)))}));return(0,f.jsx)(g,{item:r})}function k(e){var n=e.count,r=void 0===n?30:n,s=w("top",(function(){return d("topstories",500)}));return(0,f.jsx)("ol",{children:s.slice(0,r).map((function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(t.Suspense,{fallback:(0,f.jsx)(v,{}),children:(0,f.jsx)(b,{id:e})})},e)}))})}const S=function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h2",{children:"With Suspense ex1"}),(0,f.jsx)("h3",{children:"Fetch HackerNews Top 30 stories, and then fetch each story"}),(0,f.jsx)("p",{children:"fetch 30 stories with 500ms delay"}),(0,f.jsx)("p",{children:"fetch each story with 0 delay"}),(0,f.jsx)("div",{style:{padding:"1rem 0"},children:(0,f.jsx)(t.Suspense,{fallback:(0,f.jsx)(v,{}),children:(0,f.jsx)(k,{count:30})})})]})};function Z(e){var n=e.id,r=(0,t.useState)(),s=(0,l.Z)(r,2),i=s[0],a=s[1],c=(0,t.useState)(!1),u=(0,l.Z)(c,2),x=u[0],p=u[1],j=(0,t.useState)(),m=(0,l.Z)(j,2),y=m[0],w=m[1];return(0,t.useEffect)((function(){var e=function(){var e=(0,o.Z)(h().mark((function e(){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,d("item/".concat(Number(n)),0);case 4:r=e.sent,a(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),w(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[n]),x?(0,f.jsx)(v,{}):y?(0,f.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:y.stack}):i?(0,f.jsx)(g,{item:i}):null}function T(e){var n=e.count,r=void 0===n?30:n,s=(0,t.useState)(),i=(0,l.Z)(s,2),a=i[0],c=i[1],u=(0,t.useState)(!1),x=(0,l.Z)(u,2),p=x[0],j=x[1],m=(0,t.useState)(),g=(0,l.Z)(m,2),y=g[0],w=g[1];return(0,t.useEffect)((function(){var e=function(){var e=(0,o.Z)(h().mark((function e(){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,d("topstories",500);case 4:n=e.sent,c(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),w(e.t0);case 11:return e.prev=11,j(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),p?(0,f.jsx)(v,{}):y?(0,f.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:y.stack}):a?(0,f.jsx)("ol",{children:a.slice(0,r).map((function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(Z,{id:e})},e)}))}):null}const W=function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h2",{children:"Without Suspense ex2"}),(0,f.jsx)("h3",{children:"Fetch HackerNews Top 30 stories, and then fetch each story"}),(0,f.jsx)("p",{children:"fetch 30 stories with 500ms delay"}),(0,f.jsx)("p",{children:"fetch each story with 0 delay"}),(0,f.jsx)("div",{style:{padding:"1rem 0"},children:(0,f.jsx)(T,{})})]})},C=function(){var e=(0,t.useState)("ex1"),n=(0,l.Z)(e,2),r=n[0],s=n[1];return"undefined"==typeof window?(0,f.jsx)("div",{children:"This is Server Rendered."}):(0,f.jsxs)("article",{children:[(0,f.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"2rem"},children:(0,f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[(0,f.jsx)("button",{onClick:function(){return s("ex1")},children:"with suspense ex1"}),(0,f.jsx)("button",{onClick:function(){return s("ex2")},children:"without suspense ex2"})]})}),"ex1"===r&&(0,f.jsx)(S,{}),"ex2"===r&&(0,f.jsx)(W,{})]})};var N=r(985);const L=function(e){var n=e.color;return(0,f.jsx)("div",{className:"color-box",style:{backgroundColor:n}})};var O=r(23),E=r.n(O);function F(e){for(var n=[],r=0;r<e;r++)n.push(E()());return n}const A=function(){var e=(0,t.useState)(""),n=(0,l.Z)(e,2),r=n[0],s=n[1],i=(0,t.useDeferredValue)(r);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h2",{children:"useDeferredValue: random color box"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"input-box",children:[(0,f.jsx)("input",{type:"text",value:r,onChange:function(e){s(e.target.value)},maxLength:100}),(0,f.jsx)("span",{children:r.length})]}),(0,f.jsx)("div",{style:{display:"flex",flexWrap:"wrap",marginTop:"1rem"},children:F(i.length*i.length*2).map((function(e,n){return(0,f.jsx)(L,{color:e},n)}))})]})]})},_=function(e){var n=e.name,r=e.highlight,t=n.toLocaleLowerCase().indexOf(r.toLocaleLowerCase());return-1===t?(0,f.jsx)("div",{children:n}):(0,f.jsxs)("div",{children:[n.slice(0,t),(0,f.jsx)("span",{className:"highlight",children:n.slice(t,t+r.length)}),n.slice(t+r.length)]})},B=function(e){var n=e.names,r=(0,t.useState)(""),s=(0,l.Z)(r,2),i=s[0],a=s[1],c=(0,t.useDeferredValue)(i);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h2",{children:"useDeferredValue: query and highlight"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"input-box",children:[(0,f.jsx)("input",{type:"text",value:i,onChange:function(e){a(e.target.value)},maxLength:100}),(0,f.jsx)("span",{children:i.length})]}),(0,f.jsx)("div",{style:{marginTop:"1rem"},children:n.map((function(e,n){return(0,f.jsx)(_,{name:e,highlight:c},n)}))})]})]})},P=function(){var e=(0,t.useState)(""),n=(0,l.Z)(e,2),r=n[0],s=n[1],i=(0,t.useState)(""),a=(0,l.Z)(i,2),c=a[0],o=a[1],u=(0,t.useTransition)(),h=(0,l.Z)(u,2),d=h[0],x=h[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h2",{children:"With Transitions: random color box"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"input-box",children:[(0,f.jsx)("input",{type:"text",value:r,onChange:function(e){s(e.target.value),x((function(){o(e.target.value)}))},maxLength:100}),(0,f.jsx)("span",{children:c.length})]}),(0,f.jsxs)("div",{style:{position:"relative",display:"flex",flexWrap:"wrap",marginTop:"1rem"},children:[F(c.length*c.length*2).map((function(e,n){return(0,f.jsx)(L,{color:e},n)})),d&&(0,f.jsx)("div",{className:"overlay",children:"Pending"})]})]})]})},V=function(e){var n=e.names,r=(0,t.useState)(""),s=(0,l.Z)(r,2),i=s[0],a=s[1],c=(0,t.useState)(""),o=(0,l.Z)(c,2),u=o[0],h=o[1],d=(0,t.useTransition)(),x=(0,l.Z)(d,2),p=x[0],j=x[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h2",{children:"With Transitions: query and highlight"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"input-box",children:[(0,f.jsx)("input",{type:"text",value:i,onChange:function(e){a(e.target.value),j((function(){h(e.target.value)}))},maxLength:100}),(0,f.jsx)("span",{children:u.length})]}),(0,f.jsxs)("div",{style:{position:"relative",marginTop:"1rem"},children:[n.map((function(e,n){return(0,f.jsx)(_,{name:e,highlight:u},n)})),p&&(0,f.jsx)("div",{className:"overlay",children:"Pending"})]})]})]})},D=function(){var e=(0,t.useState)(""),n=(0,l.Z)(e,2),r=n[0],s=n[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h2",{children:"Without Transitions: random color box"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"input-box",children:[(0,f.jsx)("input",{type:"text",value:r,onChange:function(e){s(e.target.value)},maxLength:100}),(0,f.jsx)("span",{children:r.length})]}),(0,f.jsx)("div",{style:{display:"flex",flexWrap:"wrap",marginTop:"1rem"},children:F(r.length*r.length*2).map((function(e,n){return(0,f.jsx)(L,{color:e},n)}))})]})]})},H=function(e){var n=e.names,r=(0,t.useState)(""),s=(0,l.Z)(r,2),i=s[0],a=s[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h2",{children:"Without Transitions: query and highlight"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"input-box",children:[(0,f.jsx)("input",{type:"text",value:i,onChange:function(e){a(e.target.value)},maxLength:100}),(0,f.jsx)("span",{children:i.length})]}),(0,f.jsx)("div",{style:{marginTop:"1rem"},children:n.map((function(e,n){return(0,f.jsx)(_,{name:e,highlight:i},n)}))})]})]})};var R=Array.from({length:5e3},(function(){return N.ZP.name.findName()}));const z=function(){var e=(0,t.useState)("with-ex1"),n=(0,l.Z)(e,2),r=n[0],s=n[1];return(0,f.jsxs)("article",{children:[(0,f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"2rem"},children:[(0,f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[(0,f.jsx)("button",{onClick:function(){return s("with-ex1")},children:"With Transitions Ex1"}),(0,f.jsx)("button",{onClick:function(){return s("without-ex1")},children:"Without Transitions Ex1"}),(0,f.jsx)("button",{onClick:function(){return s("defer-ex1")},children:"useDeferredValue Ex1"})]}),(0,f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[(0,f.jsx)("button",{onClick:function(){return s("with-ex2")},children:"With Transitions Ex2"}),(0,f.jsx)("button",{onClick:function(){return s("without-ex2")},children:"Without Transitions Ex2"}),(0,f.jsx)("button",{onClick:function(){return s("defer-ex2")},children:"useDeferredValue Ex2"})]})]}),"with-ex1"===r&&(0,f.jsx)(P,{}),"without-ex1"===r&&(0,f.jsx)(D,{}),"defer-ex1"===r&&(0,f.jsx)(A,{}),"with-ex2"===r&&(0,f.jsx)(V,{names:R}),"without-ex2"===r&&(0,f.jsx)(H,{names:R}),"defer-ex2"===r&&(0,f.jsx)(B,{names:R})]})};function q(e){var n=e.error;return(0,f.jsxs)("div",{children:[(0,f.jsx)("h1",{children:"Application Error"}),(0,f.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:n.stack})]})}const M=function(){return(0,f.jsx)(t.Suspense,{fallback:(0,f.jsx)("h1",{children:"Loading..."}),children:(0,f.jsx)(c.ErrorBoundary,{FallbackComponent:q,children:(0,f.jsxs)("div",{children:[(0,f.jsx)("header",{children:(0,f.jsxs)("nav",{children:[(0,f.jsx)(i.OL,{to:"/",children:"Home"}),(0,f.jsx)(i.OL,{to:"/automatic-batching",children:"Automatic Batching"}),(0,f.jsx)(i.OL,{to:"/transitions",children:"Transitions"}),(0,f.jsx)(i.OL,{to:"/suspense",children:"Suspense"})]})}),(0,f.jsx)("main",{children:(0,f.jsxs)(a.Z5,{children:[(0,f.jsx)(a.AW,{path:"/",element:(0,f.jsx)(m,{})}),(0,f.jsx)(a.AW,{path:"/automatic-batching",element:(0,f.jsx)(j,{})}),(0,f.jsx)(a.AW,{path:"/transitions",element:(0,f.jsx)(z,{})}),(0,f.jsx)(a.AW,{path:"/suspense",element:(0,f.jsx)(C,{})})]})})]})})})};var I=document.getElementById("app");if(!I)throw new Error('"app" element not found');s.s(I).render((0,f.jsx)(i.VK,{basename:"/lets-go-react-18",children:(0,f.jsx)(M,{})}))}},r={};function t(e){var s=r[e];if(void 0!==s)return s.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}t.m=n,e=[],t.O=(n,r,s,i)=>{if(!r){var a=1/0;for(u=0;u<e.length;u++){for(var[r,s,i]=e[u],c=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(t.O).every((e=>t.O[e](r[l])))?r.splice(l--,1):(c=!1,i<a&&(a=i));if(c){e.splice(u--,1);var o=s();void 0!==o&&(n=o)}}return n}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,s,i]},t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};t.O.j=n=>0===e[n];var n=(n,r)=>{var s,i,[a,c,l]=r,o=0;if(a.some((n=>0!==e[n]))){for(s in c)t.o(c,s)&&(t.m[s]=c[s]);if(l)var u=l(t)}for(n&&n(r);o<a.length;o++)i=a[o],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(u)},r=self.webpackChunklets_go_react_18=self.webpackChunklets_go_react_18||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var s=t.O(void 0,[216],(()=>t(980)));s=t.O(s)})();
//# sourceMappingURL=main.2fc56b2a1c1db7a02333.js.map